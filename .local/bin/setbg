#!/bin/bash

WALLPAPER_INFORMATION_FILE=~/.local/share/bg
WALLPAPER_TO_SET=$(realpath $1)

[ ! -f $WALLPAPER_TO_SET ] && notify-send "Error" "Not a proper file!" && exit

[ ! -f $WALLPAPER_INFORMATION_FILE ] \
    && touch $WALLPAPER_INFORMATION_FILE \
    && echo -e "--THIS IS AN AUTO GENERATED FILE--\n" > $WALLPAPER_INFORMATION_FILE

[ -f $WALLPAPER_TO_SET ] && echo $WALLPAPER_TO_SET >> $WALLPAPER_INFORMATION_FILE

xwallpaper --zoom $WALLPAPER_TO_SET
notify-send "Background Updated" "Wallpaper set to $(basename $WALLPAPER_TO_SET)" --icon=$WALLPAPER_TO_SET
